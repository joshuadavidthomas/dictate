{"id":"dictate-52u","title":"Research/decide separate process architecture","description":"Oracle says: adopt separate process ONLY if single-process backend abstraction proves insufficient. Trigger conditions: 1) Working single-process backend abstraction exists, 2) WinitBackend works on Windows/macOS/X11, 3) Repeatedly hit unfixable issues due to event-loop/toolkit constraints. Until then, stay single-process. Document decision criteria and revisit after cross-platform backends exist.","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-13T19:37:35.835589918-06:00","updated_at":"2025-12-13T19:37:35.835589918-06:00","dependencies":[{"issue_id":"dictate-52u","depends_on_id":"dictate-y70","type":"blocks","created_at":"2025-12-13T19:38:12.024848347-06:00","created_by":"daemon"},{"issue_id":"dictate-52u","depends_on_id":"dictate-gr0","type":"discovered-from","created_at":"2025-12-13T19:38:17.3943237-06:00","created_by":"daemon"}]}
{"id":"dictate-673","title":"Multi-monitor placement strategy","description":"SOMEDAY/MAYBE: Research and implement multi-monitor OSD placement. Questions: 1) Which monitor gets OSD? (primary, active, focused window's, configurable?), 2) What does iced/winit expose for monitor enumeration?, 3) How does layer-shell handle multi-monitor?, 4) DPI differences between monitors. Low priority until single-monitor works everywhere.","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-13T19:37:49.826465892-06:00","updated_at":"2025-12-13T19:37:49.826465892-06:00","dependencies":[{"issue_id":"dictate-673","depends_on_id":"dictate-gr0","type":"discovered-from","created_at":"2025-12-13T19:38:17.435459632-06:00","created_by":"daemon"}]}
{"id":"dictate-6pk","title":"macOS notch support","description":"SOMEDAY/MAYBE: Position OSD in macOS notch area on notched displays. Requires: 1) Query safeAreaInsets to detect notch, 2) Position window at notch coordinates, 3) High NSWindowLevel above menu bar, 4) unsafe AppKit interop via objc2, 5) Multi-monitor logic (notch only on built-in). Integration-heavy, easy to regress across macOS versions. Nice-to-have, not required for MVP. Depends on: macOS basic support working first.","status":"open","priority":4,"issue_type":"feature","created_at":"2025-12-13T19:37:46.74095829-06:00","updated_at":"2025-12-13T19:37:46.74095829-06:00","dependencies":[{"issue_id":"dictate-6pk","depends_on_id":"dictate-d8s","type":"blocks","created_at":"2025-12-13T19:38:12.038778006-06:00","created_by":"daemon"},{"issue_id":"dictate-6pk","depends_on_id":"dictate-gr0","type":"discovered-from","created_at":"2025-12-13T19:38:17.421817954-06:00","created_by":"daemon"}]}
{"id":"dictate-6t2","title":"Separate domain vs presentation state","description":"Store domain data (DictationState/RecordingSnapshot) once, have visual state variants reference it. Eliminates duplication bugs like the idle_hot anti-pattern. See spec: https://gist.github.com/joshuadavidthomas/c4a94f6a4e62111b9a26636f52fdbf38 (04-state-machine.md). Reference prototype branch 'claude/implement-relm4-prototypes-01GTSH9fzrzhp9J1CTVjqCff' for timeline.rs and theme.rs code to port (these are good), but DO NOT copy state.rs or app.rs directly - they have the wrong pattern.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-13T19:36:33.216025923-06:00","updated_at":"2025-12-13T19:51:35.533572299-06:00","dependencies":[{"issue_id":"dictate-6t2","depends_on_id":"dictate-ocn","type":"blocks","created_at":"2025-12-13T19:38:08.615379173-06:00","created_by":"daemon"},{"issue_id":"dictate-6t2","depends_on_id":"dictate-gr0","type":"discovered-from","created_at":"2025-12-13T19:38:17.246728166-06:00","created_by":"daemon"},{"issue_id":"dictate-6t2","depends_on_id":"dictate-c39","type":"blocks","created_at":"2025-12-13T19:40:12.485654079-06:00","created_by":"daemon"},{"issue_id":"dictate-6t2","depends_on_id":"dictate-ali","type":"blocks","created_at":"2025-12-13T19:40:39.431237069-06:00","created_by":"daemon"}]}
{"id":"dictate-ali","title":"Create fresh OSD implementation branch from main","description":"After spec document is complete, create a new branch from main (not from the prototype branch). The prototype branch 'claude/implement-relm4-prototypes-01GTSH9fzrzhp9J1CTVjqCff' should be kept as reference but NOT merged - it's a quick exploration with messy changes and known issues. Reference the spec gist for correct implementation patterns: https://gist.github.com/joshuadavidthomas/c4a94f6a4e62111b9a26636f52fdbf38","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-13T19:40:33.659484796-06:00","updated_at":"2025-12-13T19:51:30.359646579-06:00","dependencies":[{"issue_id":"dictate-ali","depends_on_id":"dictate-c39","type":"blocks","created_at":"2025-12-13T19:40:39.403998346-06:00","created_by":"daemon"},{"issue_id":"dictate-ali","depends_on_id":"dictate-gr0","type":"discovered-from","created_at":"2025-12-13T19:40:39.418573048-06:00","created_by":"daemon"}]}
{"id":"dictate-auq","title":"Make state transitions return actions","description":"Refactor to: transition(state, event) -\u003e (new_state, Vec\u003cOsdAction\u003e) where OsdAction is enum { StartAppear, StartDisappear, StartLingerTimer(Duration), CreateWindow, DestroyWindow, None }. Decouples state machine from effects, makes flow explicit and testable. See spec: https://gist.github.com/joshuadavidthomas/c4a94f6a4e62111b9a26636f52fdbf38 (04-state-machine.md). The prototype branch 'claude/implement-relm4-prototypes-01GTSH9fzrzhp9J1CTVjqCff' does NOT have this pattern - it mutates state in place. Implement fresh per spec.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-13T19:36:36.570113631-06:00","updated_at":"2025-12-13T19:51:53.251633939-06:00","dependencies":[{"issue_id":"dictate-auq","depends_on_id":"dictate-6t2","type":"blocks","created_at":"2025-12-13T19:38:08.628472126-06:00","created_by":"daemon"},{"issue_id":"dictate-auq","depends_on_id":"dictate-gr0","type":"discovered-from","created_at":"2025-12-13T19:38:17.262061289-06:00","created_by":"daemon"}]}
{"id":"dictate-c1f","title":"Research/decide GNOME Wayland strategy","description":"GNOME Wayland doesn't support layer-shell protocol. Options: A) XWayland auto-relaunch (fragile, can break under Flatpak/Snap/systemd), B) Graceful degradation with winit on Wayland (imperfect but stable), C) User-facing toggle with explanation. Oracle recommends B or C. Document: what exactly breaks on GNOME Wayland with winit? What's the UX impact? Capture findings in docs/plans/. Depends on: WinitBackend existing to test.","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-13T19:37:32.201260241-06:00","updated_at":"2025-12-13T19:37:32.201260241-06:00","dependencies":[{"issue_id":"dictate-c1f","depends_on_id":"dictate-y70","type":"blocks","created_at":"2025-12-13T19:38:12.01175933-06:00","created_by":"daemon"},{"issue_id":"dictate-c1f","depends_on_id":"dictate-gr0","type":"discovered-from","created_at":"2025-12-13T19:38:17.3805751-06:00","created_by":"daemon"}]}
{"id":"dictate-c39","title":"Create OSD patterns specification document","description":"Before starting fresh branch, document the valuable patterns from the prototype: 1) Timeline animation system (Chain, Keyframe, easing functions) - copy API design, 2) Theme constants (colors, timing, dimensions) - copy structure, 3) State machine pattern - document improved design per oracle (domain vs presentation, actions on transition, generation tags), 4) Cross-platform backend strategy from CROSS_PLATFORM_OSD_GUIDE.md. Output: docs/plans/osd-patterns-spec.md that serves as implementation guide for clean branch.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-13T19:40:06.981319154-06:00","updated_at":"2025-12-13T19:46:50.467623374-06:00","closed_at":"2025-12-13T19:46:50.467623374-06:00","dependencies":[{"issue_id":"dictate-c39","depends_on_id":"dictate-gr0","type":"discovered-from","created_at":"2025-12-13T19:40:12.512953538-06:00","created_by":"daemon"},{"issue_id":"dictate-c39","depends_on_id":"dictate-ocn","type":"blocks","created_at":"2025-12-13T19:40:33.64444617-06:00","created_by":"daemon"}]}
{"id":"dictate-cfi","title":"Accessibility and reduced motion support","description":"SOMEDAY/MAYBE: 1) Respect prefers-reduced-motion system setting (skip/shorten animations), 2) Keyboard navigation if OSD becomes interactive, 3) Screen reader announcements for state changes, 4) 'Disable OSD' user preference. Nice-to-have for inclusive UX.","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-13T19:37:52.509361797-06:00","updated_at":"2025-12-13T19:37:52.509361797-06:00","dependencies":[{"issue_id":"dictate-cfi","depends_on_id":"dictate-gr0","type":"discovered-from","created_at":"2025-12-13T19:38:17.448627268-06:00","created_by":"daemon"}]}
{"id":"dictate-d0g","title":"Add comprehensive state machine tests","description":"Add unit and property tests for OsdState: 1) Test all valid transitions, 2) Test that invalid transitions are handled safely, 3) Property test: no sequence of events can reach illegal state, 4) Test generation-tagged completion rejection. See spec: https://gist.github.com/joshuadavidthomas/c4a94f6a4e62111b9a26636f52fdbf38 (07-implementation-checklist.md). The prototype has some timeline tests to reference, but state machine tests are new.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-13T19:36:47.234638983-06:00","updated_at":"2025-12-13T19:51:53.278585265-06:00","dependencies":[{"issue_id":"dictate-d0g","depends_on_id":"dictate-tyt","type":"blocks","created_at":"2025-12-13T19:38:08.656399933-06:00","created_by":"daemon"},{"issue_id":"dictate-d0g","depends_on_id":"dictate-gr0","type":"discovered-from","created_at":"2025-12-13T19:38:17.312340519-06:00","created_by":"daemon"}]}
{"id":"dictate-d8s","title":"macOS support (basic)","description":"Enable OSD on macOS (non-notch). Depends on WinitBackend. Considerations: 1) LSUIElement=true to hide from Dock, 2) NSWindowCollectionBehavior for spaces/fullscreen, 3) Window level above menu bar, 4) Prevent activation/focus stealing. Test on macOS Sonoma+.","status":"open","priority":3,"issue_type":"feature","created_at":"2025-12-13T19:37:22.575705406-06:00","updated_at":"2025-12-13T19:37:22.575705406-06:00","dependencies":[{"issue_id":"dictate-d8s","depends_on_id":"dictate-y70","type":"blocks","created_at":"2025-12-13T19:38:10.384396881-06:00","created_by":"daemon"},{"issue_id":"dictate-d8s","depends_on_id":"dictate-gr0","type":"discovered-from","created_at":"2025-12-13T19:38:17.367285545-06:00","created_by":"daemon"}]}
{"id":"dictate-e65","title":"Windows support","description":"Enable OSD on Windows. Depends on WinitBackend. Considerations: 1) WS_EX_TOOLWINDOW to hide from Alt+Tab, 2) WS_EX_NOACTIVATE to prevent focus stealing, 3) Always-on-top via window level, 4) DPI scaling. Test on Windows 10/11.","status":"open","priority":3,"issue_type":"feature","created_at":"2025-12-13T19:37:20.168116296-06:00","updated_at":"2025-12-13T19:37:20.168116296-06:00","dependencies":[{"issue_id":"dictate-e65","depends_on_id":"dictate-y70","type":"blocks","created_at":"2025-12-13T19:38:10.3707157-06:00","created_by":"daemon"},{"issue_id":"dictate-e65","depends_on_id":"dictate-gr0","type":"discovered-from","created_at":"2025-12-13T19:38:17.354831994-06:00","created_by":"daemon"}]}
{"id":"dictate-gr0","title":"OSD Architecture Overhaul","description":"Comprehensive overhaul of OSD architecture based on oracle review. Includes: bug fixes, state machine hardening, backend abstraction, and cross-platform expansion. Key insight: keep patterns (state machine, timeline, theme), fix layering (domain vs presentation), build backend trait, don't jump to separate process until simpler approaches fail.","status":"open","priority":1,"issue_type":"epic","created_at":"2025-12-13T19:36:04.557647484-06:00","updated_at":"2025-12-13T19:36:12.019804278-06:00"}
{"id":"dictate-ln8","title":"Create OsdBackend trait for window management abstraction","description":"Abstract window management behind a trait: trait OsdBackend { fn ensure_window(\u0026mut self); fn set_visible(\u0026mut self, visible: bool); fn set_geometry(...); fn destroy_window(\u0026mut self); }. Start with LayerShellBackend implementing this. See spec: https://gist.github.com/joshuadavidthomas/c4a94f6a4e62111b9a26636f52fdbf38 (05-backend-trait.md). The prototype branch 'claude/implement-relm4-prototypes-01GTSH9fzrzhp9J1CTVjqCff' can be referenced for iced_layershell usage patterns in app.rs, but the backend abstraction is new.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-13T19:36:43.729962359-06:00","updated_at":"2025-12-13T19:51:39.519168609-06:00","dependencies":[{"issue_id":"dictate-ln8","depends_on_id":"dictate-gr0","type":"discovered-from","created_at":"2025-12-13T19:38:17.296916795-06:00","created_by":"daemon"},{"issue_id":"dictate-ln8","depends_on_id":"dictate-c39","type":"blocks","created_at":"2025-12-13T19:40:12.49984815-06:00","created_by":"daemon"},{"issue_id":"dictate-ln8","depends_on_id":"dictate-ali","type":"blocks","created_at":"2025-12-13T19:40:39.443820298-06:00","created_by":"daemon"}]}
{"id":"dictate-ocn","title":"Document idle_hot bug pattern to avoid","description":"In the prototype, StateChanged events passed idle_hot but match arms used the OLD value. This is a class of bug caused by duplicating domain data in every visual state variant. Document this as anti-pattern in the spec. The fix is structural: store domain data once and reference it. Don't duplicate RecordingSnapshot/idle_hot in every OsdVisualState variant.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-13T19:36:19.962753076-06:00","updated_at":"2025-12-13T19:46:50.453297277-06:00","closed_at":"2025-12-13T19:46:50.453297277-06:00","dependencies":[{"issue_id":"dictate-ocn","depends_on_id":"dictate-gr0","type":"discovered-from","created_at":"2025-12-13T19:38:17.201987545-06:00","created_by":"daemon"}]}
{"id":"dictate-qw4","title":"Fix or remove unused transcription_result field","description":"In app.rs, transcription_result is set (lines 209, 218) but never read in render logic. Either use it to display transcription results or remove it. Add #[allow(dead_code)] with TODO if keeping for future use.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T19:36:25.901204653-06:00","updated_at":"2025-12-13T19:40:26.244218507-06:00","closed_at":"2025-12-13T19:40:26.244218507-06:00","dependencies":[{"issue_id":"dictate-qw4","depends_on_id":"dictate-gr0","type":"discovered-from","created_at":"2025-12-13T19:38:17.231209022-06:00","created_by":"daemon"}]}
{"id":"dictate-rjq","title":"Linux X11 support","description":"Enable OSD on Linux X11 sessions. Depends on WinitBackend. May need X11-specific hints via x11rb: _NET_WM_STATE_ABOVE, _NET_WM_STATE_STICKY, _NET_WM_STATE_SKIP_TASKBAR, _NET_WM_WINDOW_TYPE_NOTIFICATION. Test on: bare X11, XWayland on various compositors.","status":"open","priority":3,"issue_type":"feature","created_at":"2025-12-13T19:37:17.818249536-06:00","updated_at":"2025-12-13T19:37:17.818249536-06:00","dependencies":[{"issue_id":"dictate-rjq","depends_on_id":"dictate-y70","type":"blocks","created_at":"2025-12-13T19:38:10.356381659-06:00","created_by":"daemon"},{"issue_id":"dictate-rjq","depends_on_id":"dictate-gr0","type":"discovered-from","created_at":"2025-12-13T19:38:17.341210053-06:00","created_by":"daemon"}]}
{"id":"dictate-tyt","title":"Generation-tag internal events to prevent stale completions","description":"Add generation counter to animations and include it in completion events. Timeline should be authoritative source of completion. Ignore completion events with wrong generation. See spec: https://gist.github.com/joshuadavidthomas/c4a94f6a4e62111b9a26636f52fdbf38 (02-timeline-animation.md, 04-state-machine.md). The prototype branch timeline.rs is missing generation tags - extend it per spec.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-13T19:36:39.795626834-06:00","updated_at":"2025-12-13T19:51:53.265639077-06:00","dependencies":[{"issue_id":"dictate-tyt","depends_on_id":"dictate-auq","type":"blocks","created_at":"2025-12-13T19:38:08.642513395-06:00","created_by":"daemon"},{"issue_id":"dictate-tyt","depends_on_id":"dictate-gr0","type":"discovered-from","created_at":"2025-12-13T19:38:17.280660042-06:00","created_by":"daemon"}]}
{"id":"dictate-xbq","title":"Document current GNOME/platform knowledge","description":"Before punting GNOME decision, document what we know now: 1) Layer-shell doesn't work on GNOME, 2) XWayland relaunch approach and its risks (Flatpak, systemd, etc.), 3) What the cross-platform guide proposes, 4) Oracle's concerns. Put in docs/plans/ so knowledge isn't lost. This is a capture task, not a decision task.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-13T19:37:39.230931478-06:00","updated_at":"2025-12-13T19:46:50.480478663-06:00","closed_at":"2025-12-13T19:46:50.480478663-06:00","dependencies":[{"issue_id":"dictate-xbq","depends_on_id":"dictate-gr0","type":"discovered-from","created_at":"2025-12-13T19:38:17.40809897-06:00","created_by":"daemon"}]}
{"id":"dictate-xv2","title":"Clean up dead code in animation.rs","description":"Only pulsing_waveform is still used from animation.rs. The rest (PulseTween, WindowTween, WidthTween, compute_window_animation, etc.) is dead code since timeline.rs was introduced. Either move pulsing_waveform elsewhere or delete the dead code.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-13T19:36:23.086867553-06:00","updated_at":"2025-12-13T19:40:26.231063663-06:00","closed_at":"2025-12-13T19:40:26.231063663-06:00","dependencies":[{"issue_id":"dictate-xv2","depends_on_id":"dictate-gr0","type":"discovered-from","created_at":"2025-12-13T19:38:17.216087367-06:00","created_by":"daemon"}]}
{"id":"dictate-y70","title":"Implement WinitBackend for cross-platform support","description":"Implement OsdBackend trait for iced+winit (non-layer-shell). This enables: Linux X11, Windows, macOS. Key considerations: 1) Always-on-top window level, 2) Decorations off, 3) Transparent background, 4) Click-through/input passthrough, 5) Positioning (screen geometry queries). This is the foundation for all non-Wayland-layer-shell platforms.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-13T19:37:14.511094011-06:00","updated_at":"2025-12-13T19:37:14.511094011-06:00","dependencies":[{"issue_id":"dictate-y70","depends_on_id":"dictate-ln8","type":"blocks","created_at":"2025-12-13T19:38:10.341321301-06:00","created_by":"daemon"},{"issue_id":"dictate-y70","depends_on_id":"dictate-gr0","type":"discovered-from","created_at":"2025-12-13T19:38:17.327596327-06:00","created_by":"daemon"}]}
