{"id":"dictate-52u","title":"Research/decide separate process architecture","description":"Oracle says: adopt separate process ONLY if single-process backend abstraction proves insufficient. Trigger conditions: 1) Working single-process backend abstraction exists, 2) WinitBackend works on Windows/macOS/X11, 3) Repeatedly hit unfixable issues due to event-loop/toolkit constraints. Until then, stay single-process. Document decision criteria and revisit after cross-platform backends exist.","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-13T19:37:35.835589918-06:00","updated_at":"2025-12-13T19:37:35.835589918-06:00","dependencies":[{"issue_id":"dictate-52u","depends_on_id":"dictate-y70","type":"blocks","created_at":"2025-12-13T19:38:12.024848347-06:00","created_by":"daemon"},{"issue_id":"dictate-52u","depends_on_id":"dictate-gr0","type":"discovered-from","created_at":"2025-12-13T19:38:17.3943237-06:00","created_by":"daemon"}]}
{"id":"dictate-673","title":"Multi-monitor placement strategy","description":"SOMEDAY/MAYBE: Research and implement multi-monitor OSD placement. Questions: 1) Which monitor gets OSD? (primary, active, focused window's, configurable?), 2) What does iced/winit expose for monitor enumeration?, 3) How does layer-shell handle multi-monitor?, 4) DPI differences between monitors. Low priority until single-monitor works everywhere.","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-13T19:37:49.826465892-06:00","updated_at":"2025-12-13T19:37:49.826465892-06:00","dependencies":[{"issue_id":"dictate-673","depends_on_id":"dictate-gr0","type":"discovered-from","created_at":"2025-12-13T19:38:17.435459632-06:00","created_by":"daemon"}]}
{"id":"dictate-6pk","title":"macOS notch support","description":"SOMEDAY/MAYBE: Position OSD in macOS notch area on notched displays. Requires: 1) Query safeAreaInsets to detect notch, 2) Position window at notch coordinates, 3) High NSWindowLevel above menu bar, 4) unsafe AppKit interop via objc2, 5) Multi-monitor logic (notch only on built-in). Integration-heavy, easy to regress across macOS versions. Nice-to-have, not required for MVP. Depends on: macOS basic support working first.","status":"open","priority":4,"issue_type":"feature","created_at":"2025-12-13T19:37:46.74095829-06:00","updated_at":"2025-12-13T19:37:46.74095829-06:00","dependencies":[{"issue_id":"dictate-6pk","depends_on_id":"dictate-d8s","type":"blocks","created_at":"2025-12-13T19:38:12.038778006-06:00","created_by":"daemon"},{"issue_id":"dictate-6pk","depends_on_id":"dictate-gr0","type":"discovered-from","created_at":"2025-12-13T19:38:17.421817954-06:00","created_by":"daemon"}]}
{"id":"dictate-6t2","title":"Separate domain vs presentation state","description":"Currently RecordingSnapshot and idle_hot are duplicated in every OsdVisualState variant. This invites 'update one path but not another' bugs (like the idle_hot bug). Refactor to: 1) Store domain data (DictationState/RecordingSnapshot) once, 2) Have visual state variants reference it, e.g. struct VisibleData shared by variants. This eliminates the duplication class of bugs.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-13T19:36:33.216025923-06:00","updated_at":"2025-12-13T19:36:33.216025923-06:00","dependencies":[{"issue_id":"dictate-6t2","depends_on_id":"dictate-ocn","type":"blocks","created_at":"2025-12-13T19:38:08.615379173-06:00","created_by":"daemon"},{"issue_id":"dictate-6t2","depends_on_id":"dictate-gr0","type":"discovered-from","created_at":"2025-12-13T19:38:17.246728166-06:00","created_by":"daemon"}]}
{"id":"dictate-auq","title":"Make state transitions return actions","description":"Currently transition() mutates state in place and app.rs must 'infer' what effects to perform. Refactor to: transition(state, event) -\u003e (new_state, Vec\u003cOsdAction\u003e) where OsdAction is enum { StartAppear, StartDisappear, StartLingerTimer(Duration), CreateWindow, DestroyWindow, None }. This decouples state machine from effects and makes the flow explicit.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-13T19:36:36.570113631-06:00","updated_at":"2025-12-13T19:36:36.570113631-06:00","dependencies":[{"issue_id":"dictate-auq","depends_on_id":"dictate-6t2","type":"blocks","created_at":"2025-12-13T19:38:08.628472126-06:00","created_by":"daemon"},{"issue_id":"dictate-auq","depends_on_id":"dictate-gr0","type":"discovered-from","created_at":"2025-12-13T19:38:17.262061289-06:00","created_by":"daemon"}]}
{"id":"dictate-c1f","title":"Research/decide GNOME Wayland strategy","description":"GNOME Wayland doesn't support layer-shell protocol. Options: A) XWayland auto-relaunch (fragile, can break under Flatpak/Snap/systemd), B) Graceful degradation with winit on Wayland (imperfect but stable), C) User-facing toggle with explanation. Oracle recommends B or C. Document: what exactly breaks on GNOME Wayland with winit? What's the UX impact? Capture findings in docs/plans/. Depends on: WinitBackend existing to test.","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-13T19:37:32.201260241-06:00","updated_at":"2025-12-13T19:37:32.201260241-06:00","dependencies":[{"issue_id":"dictate-c1f","depends_on_id":"dictate-y70","type":"blocks","created_at":"2025-12-13T19:38:12.01175933-06:00","created_by":"daemon"},{"issue_id":"dictate-c1f","depends_on_id":"dictate-gr0","type":"discovered-from","created_at":"2025-12-13T19:38:17.3805751-06:00","created_by":"daemon"}]}
{"id":"dictate-cfi","title":"Accessibility and reduced motion support","description":"SOMEDAY/MAYBE: 1) Respect prefers-reduced-motion system setting (skip/shorten animations), 2) Keyboard navigation if OSD becomes interactive, 3) Screen reader announcements for state changes, 4) 'Disable OSD' user preference. Nice-to-have for inclusive UX.","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-13T19:37:52.509361797-06:00","updated_at":"2025-12-13T19:37:52.509361797-06:00","dependencies":[{"issue_id":"dictate-cfi","depends_on_id":"dictate-gr0","type":"discovered-from","created_at":"2025-12-13T19:38:17.448627268-06:00","created_by":"daemon"}]}
{"id":"dictate-d0g","title":"Add comprehensive state machine tests","description":"Add unit and property tests for OsdVisualState: 1) Test all valid transitions, 2) Test that invalid transitions are handled safely (don't panic, stay in safe state), 3) Property test: no sequence of events can reach an illegal state, 4) Test with mocked time (Instant abstraction) for determinism. Consider: move Instant out of state variants to improve testability.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-13T19:36:47.234638983-06:00","updated_at":"2025-12-13T19:36:47.234638983-06:00","dependencies":[{"issue_id":"dictate-d0g","depends_on_id":"dictate-tyt","type":"blocks","created_at":"2025-12-13T19:38:08.656399933-06:00","created_by":"daemon"},{"issue_id":"dictate-d0g","depends_on_id":"dictate-gr0","type":"discovered-from","created_at":"2025-12-13T19:38:17.312340519-06:00","created_by":"daemon"}]}
{"id":"dictate-d8s","title":"macOS support (basic)","description":"Enable OSD on macOS (non-notch). Depends on WinitBackend. Considerations: 1) LSUIElement=true to hide from Dock, 2) NSWindowCollectionBehavior for spaces/fullscreen, 3) Window level above menu bar, 4) Prevent activation/focus stealing. Test on macOS Sonoma+.","status":"open","priority":3,"issue_type":"feature","created_at":"2025-12-13T19:37:22.575705406-06:00","updated_at":"2025-12-13T19:37:22.575705406-06:00","dependencies":[{"issue_id":"dictate-d8s","depends_on_id":"dictate-y70","type":"blocks","created_at":"2025-12-13T19:38:10.384396881-06:00","created_by":"daemon"},{"issue_id":"dictate-d8s","depends_on_id":"dictate-gr0","type":"discovered-from","created_at":"2025-12-13T19:38:17.367285545-06:00","created_by":"daemon"}]}
{"id":"dictate-e65","title":"Windows support","description":"Enable OSD on Windows. Depends on WinitBackend. Considerations: 1) WS_EX_TOOLWINDOW to hide from Alt+Tab, 2) WS_EX_NOACTIVATE to prevent focus stealing, 3) Always-on-top via window level, 4) DPI scaling. Test on Windows 10/11.","status":"open","priority":3,"issue_type":"feature","created_at":"2025-12-13T19:37:20.168116296-06:00","updated_at":"2025-12-13T19:37:20.168116296-06:00","dependencies":[{"issue_id":"dictate-e65","depends_on_id":"dictate-y70","type":"blocks","created_at":"2025-12-13T19:38:10.3707157-06:00","created_by":"daemon"},{"issue_id":"dictate-e65","depends_on_id":"dictate-gr0","type":"discovered-from","created_at":"2025-12-13T19:38:17.354831994-06:00","created_by":"daemon"}]}
{"id":"dictate-gr0","title":"OSD Architecture Overhaul","description":"Comprehensive overhaul of OSD architecture based on oracle review. Includes: bug fixes, state machine hardening, backend abstraction, and cross-platform expansion. Key insight: keep patterns (state machine, timeline, theme), fix layering (domain vs presentation), build backend trait, don't jump to separate process until simpler approaches fail.","status":"open","priority":1,"issue_type":"epic","created_at":"2025-12-13T19:36:04.557647484-06:00","updated_at":"2025-12-13T19:36:12.019804278-06:00"}
{"id":"dictate-ln8","title":"Create OsdBackend trait for window management abstraction","description":"Abstract window management behind a trait now, even with one backend. trait OsdBackend { fn ensure_window(\u0026mut self); fn set_visible(\u0026mut self, visible: bool); fn set_geometry(...); fn destroy_window(\u0026mut self); }. Start with LayerShellBackend implementing this. Makes adding WinitBackend trivial later. Also consider: should keep window alive and toggle visibility rather than create/destroy to avoid thrash.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-13T19:36:43.729962359-06:00","updated_at":"2025-12-13T19:36:43.729962359-06:00","dependencies":[{"issue_id":"dictate-ln8","depends_on_id":"dictate-gr0","type":"discovered-from","created_at":"2025-12-13T19:38:17.296916795-06:00","created_by":"daemon"}]}
{"id":"dictate-ocn","title":"Fix idle_hot bug in state transitions","description":"In state.rs, StateChanged events pass idle_hot but match arms use the OLD value instead of the event's value. Affects lines 128-132, 147-149, 164-167, 186-204. Fix: change patterns to use event's idle_hot instead of dereferencing current state's value.","status":"open","priority":0,"issue_type":"bug","created_at":"2025-12-13T19:36:19.962753076-06:00","updated_at":"2025-12-13T19:36:19.962753076-06:00","dependencies":[{"issue_id":"dictate-ocn","depends_on_id":"dictate-gr0","type":"discovered-from","created_at":"2025-12-13T19:38:17.201987545-06:00","created_by":"daemon"}]}
{"id":"dictate-qw4","title":"Fix or remove unused transcription_result field","description":"In app.rs, transcription_result is set (lines 209, 218) but never read in render logic. Either use it to display transcription results or remove it. Add #[allow(dead_code)] with TODO if keeping for future use.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-13T19:36:25.901204653-06:00","updated_at":"2025-12-13T19:36:25.901204653-06:00","dependencies":[{"issue_id":"dictate-qw4","depends_on_id":"dictate-gr0","type":"discovered-from","created_at":"2025-12-13T19:38:17.231209022-06:00","created_by":"daemon"}]}
{"id":"dictate-rjq","title":"Linux X11 support","description":"Enable OSD on Linux X11 sessions. Depends on WinitBackend. May need X11-specific hints via x11rb: _NET_WM_STATE_ABOVE, _NET_WM_STATE_STICKY, _NET_WM_STATE_SKIP_TASKBAR, _NET_WM_WINDOW_TYPE_NOTIFICATION. Test on: bare X11, XWayland on various compositors.","status":"open","priority":3,"issue_type":"feature","created_at":"2025-12-13T19:37:17.818249536-06:00","updated_at":"2025-12-13T19:37:17.818249536-06:00","dependencies":[{"issue_id":"dictate-rjq","depends_on_id":"dictate-y70","type":"blocks","created_at":"2025-12-13T19:38:10.356381659-06:00","created_by":"daemon"},{"issue_id":"dictate-rjq","depends_on_id":"dictate-gr0","type":"discovered-from","created_at":"2025-12-13T19:38:17.341210053-06:00","created_by":"daemon"}]}
{"id":"dictate-tyt","title":"Generation-tag internal events to prevent stale completions","description":"AppearComplete/DisappearComplete events can arrive stale if animation was replaced mid-flight. Add generation counter to animations and include it in completion events. Timeline should be authoritative source of completion. Ignore completion events with wrong generation. Prevents 'randomly stuck overlay' bugs.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-13T19:36:39.795626834-06:00","updated_at":"2025-12-13T19:36:39.795626834-06:00","dependencies":[{"issue_id":"dictate-tyt","depends_on_id":"dictate-auq","type":"blocks","created_at":"2025-12-13T19:38:08.642513395-06:00","created_by":"daemon"},{"issue_id":"dictate-tyt","depends_on_id":"dictate-gr0","type":"discovered-from","created_at":"2025-12-13T19:38:17.280660042-06:00","created_by":"daemon"}]}
{"id":"dictate-xbq","title":"Document current GNOME/platform knowledge","description":"Before punting GNOME decision, document what we know now: 1) Layer-shell doesn't work on GNOME, 2) XWayland relaunch approach and its risks (Flatpak, systemd, etc.), 3) What the cross-platform guide proposes, 4) Oracle's concerns. Put in docs/plans/ so knowledge isn't lost. This is a capture task, not a decision task.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-13T19:37:39.230931478-06:00","updated_at":"2025-12-13T19:37:39.230931478-06:00","dependencies":[{"issue_id":"dictate-xbq","depends_on_id":"dictate-gr0","type":"discovered-from","created_at":"2025-12-13T19:38:17.40809897-06:00","created_by":"daemon"}]}
{"id":"dictate-xv2","title":"Clean up dead code in animation.rs","description":"Only pulsing_waveform is still used from animation.rs. The rest (PulseTween, WindowTween, WidthTween, compute_window_animation, etc.) is dead code since timeline.rs was introduced. Either move pulsing_waveform elsewhere or delete the dead code.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-13T19:36:23.086867553-06:00","updated_at":"2025-12-13T19:36:23.086867553-06:00","dependencies":[{"issue_id":"dictate-xv2","depends_on_id":"dictate-gr0","type":"discovered-from","created_at":"2025-12-13T19:38:17.216087367-06:00","created_by":"daemon"}]}
{"id":"dictate-y70","title":"Implement WinitBackend for cross-platform support","description":"Implement OsdBackend trait for iced+winit (non-layer-shell). This enables: Linux X11, Windows, macOS. Key considerations: 1) Always-on-top window level, 2) Decorations off, 3) Transparent background, 4) Click-through/input passthrough, 5) Positioning (screen geometry queries). This is the foundation for all non-Wayland-layer-shell platforms.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-13T19:37:14.511094011-06:00","updated_at":"2025-12-13T19:37:14.511094011-06:00","dependencies":[{"issue_id":"dictate-y70","depends_on_id":"dictate-ln8","type":"blocks","created_at":"2025-12-13T19:38:10.341321301-06:00","created_by":"daemon"},{"issue_id":"dictate-y70","depends_on_id":"dictate-gr0","type":"discovered-from","created_at":"2025-12-13T19:38:17.327596327-06:00","created_by":"daemon"}]}
